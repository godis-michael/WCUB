{% extends 'catalogue/base.html' %}
{% block title %}Каталог{% endblock %}

{% load widget_tweaks %}

{% block content %}

    <div class="row">
        <div class="col-lg-2 col-md-3 col-sm-3 col-xs-12">
            <br> <br>
            <form method="get">
                <div class="well bs-sidebar" id="style" style="background-color:#fff">
                    <ul class="nav nav-pills nav-stacked">
                        <li>
                            <a href="#" class="toggle-menu" onclick="showcontent('#money-type')">Тип купюри
                                <i class="fa fa-chevron-up chev"></i></a>
                        </li>
                        <div id="money-type">
                            <ul class="nav nav-pills nav-stacked">
                                {% for type in filter.form.type %}
                                    <li><a href="#">
                                        {{ type.tag }}
                                        <label for="{{ type.id_for_label }}">{{ type.choice_label }}</label>
                                    </a></li>
                                {% endfor %}
                            </ul>
                        </div>
                        <li>
                            <a href="#" class="toggle-menu" onclick="showcontent('#par')">Номінал
                                <i class="fa fa-chevron-up chev"></i></a>
                        </li>
                        <div id="par">
                            {% render_field filter.form.par_gt id='from' %}{% render_field filter.form.par_lt id='to' %}
                        </div>
                        <li><a href="#" class="toggle-menu" onclick="showcontent('#period')">Роки випуску
                            <i class="fa fa-chevron-up chev"></i></a></li>
                        <div id="period">
                            <div class="range-input">
                                {% render_field filter.form.year maxlength='4' %}
                            </div>
                            <div class="range-slider">
                                <input value="1917" min="1917" max="2017" step="1" type="range">
                                <input value="2017" min="1917" max="2017" step="1" type="range">
                            </div>
                        </div>
                    </ul>
                    <button type="submit" class="btn btn-primary" style="text-align: center; width: 100%">
                        <span class="glyphicon glyphicon-search"></span> Search
                    </button>
                </div>
            </form>
        </div>
        <div class="col-lg-10 col-md-9 col-sm-9 col-xs-12 ">
            <br><br>
            <div class="container-fluid">
                <div class="row">
                    {#               filtering here#}
                    {% for bon in filter.qs %}
                        {% if forloop.counter0|divisibleby:"4" %}
                            </div>
                            <div class="row">
                        {% endif %}
                        <div class="col-sm-3 col-lg-3">
                            <div style="display: block; text-align: center; margin: 0 auto">
                                <a href="{{ bon.id }}">
                                    <img src="{{ bon.image.url }}" style="width: 50%; height: 50%"/>
                                    <h5>{{ bon.par }} {{ bon.type }} {{ bon.year.lower }}-{{ bon.year.upper }}</h5>
                                </a>
                            </div>
                        </div>
                    {% endfor %}
                    </div>
            </div>
        </div>
    </div>

    {#        {% if filter.has_other_pages %}#}
    {#            <div>#}
    {#                <ul class="pagination">#}
    {#                {% if filter.has_previous %}#}
    {#                    <li><a href="?page={{ filter.previous_page_number }}">&laquo;</a></li>#}
    {#                {% else %}#}
    {#                    <li class="disabled"><span>&laquo;</span></li>#}
    {#                {% endif %}#}
    {#                {% for i in page_range %}#}
    {#                    {% if filter.number == i %}#}
    {#                        <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>#}
    {#                    {% else %}#}
    {#                        <li><a href="?page={{ i }}">{{ i }}</a></li>#}
    {#                    {% endif %}#}
    {#                {% endfor %}#}
    {#                {% if filter.has_next %}#}
    {#                    <li><a href="?page={{ filter.next_page_number }}">&raquo;</a></li>#}
    {#                {% else %}#}
    {#                    <li class="disabled"><span>&raquo;</span></li>#}
    {#                {% endif %}#}
    {#                </ul>#}
    {#            </div>#}
    {#        {% endif %}#}

{% endblock %}

